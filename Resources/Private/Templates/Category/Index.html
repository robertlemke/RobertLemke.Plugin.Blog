<f:layout name="Master" />

<f:section name="mainbox">
	<h2 class="flow3-firstHeader"><f:translate>Manage categories</f:translate></h2>
	<f:flashMessages class="flashmessages" />
	<f:if condition="{categories}">
		<ul class="categories">
			<f:for each="{categories}" as="category">
				<li class="category">
					<f:link.action action="index" controller="Post" arguments="{category: category}">{category.name}</f:link.action>
					<f:link.action action="edit" arguments="{category: category}" controller="Category"><img src="{f:uri.resource(path: 'Icons/FamFamFam/page_edit.png')}" title="{f:translate(value: 'Edit category')}" /></f:link.action>
					<f:link.action onclick="return confirm('{f:translate(value: 'Really delete this category?')}');" action="delete" arguments="{category: category}" controller="Category"><img src="{f:uri.resource(path: 'Icons/FamFamFam/page_delete.png')}" title="{f:translate(value: 'Delete category')}" /></f:link.action>
			</f:for>
		</ul>
		<br />
	</f:if>

	<f:render partial="FormErrors" arguments="{for: 'newCategory'}" />
	<f:form method="post" action="create" object="{newCategory}" name="newCategory">
		<label><f:translate id="category.name"/></label><br />
		<f:form.textfield property="name" /><br />
		<f:form.submit value="{f:translate(value: 'Add category')}"/>
	</f:form>

</f:section>